{"ast":null,"code":"import React from\"react\";import{Bar,Pie}from\"react-chartjs-2\";import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,ArcElement,Tooltip,Legend}from\"chart.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,ArcElement,Tooltip,Legend);export default function AnalyticsPanel(_ref){var _stats$pending,_stats$resolved,_stats$total,_stats$pending2,_stats$resolved2;let{stats,complaints}=_ref;// Count complaints by category (from props)\nconst categories={};complaints.forEach(c=>{categories[c.category]=(categories[c.category]||0)+1;});const barData={labels:Object.keys(categories),datasets:[{label:\"Complaints by Category\",data:Object.values(categories),backgroundColor:[\"#36A2EB\",\"#FF6384\",\"#FFCE56\",\"#4CAF50\",\"#9C27B0\"]}]};// Use backend stats for status pie chart\nconst pieData={labels:[\"Pending\",\"Resolved\"],datasets:[{data:[(_stats$pending=stats.pending)!==null&&_stats$pending!==void 0?_stats$pending:0,(_stats$resolved=stats.resolved)!==null&&_stats$resolved!==void 0?_stats$resolved:0],backgroundColor:[\"#FF6384\",\"#4CAF50\"]}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"analytics\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Analytics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-cards\",style:{display:\"flex\",gap:\"1rem\",marginBottom:\"1rem\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"0.5rem 1rem\",background:\"#f5f5f5\",borderRadius:\"8px\"},children:[\"Total: \",(_stats$total=stats.total)!==null&&_stats$total!==void 0?_stats$total:complaints.length]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"0.5rem 1rem\",background:\"#ffe0e0\",borderRadius:\"8px\"},children:[\"Pending: \",(_stats$pending2=stats.pending)!==null&&_stats$pending2!==void 0?_stats$pending2:0]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"0.5rem 1rem\",background:\"#e0ffe0\",borderRadius:\"8px\"},children:[\"Resolved: \",(_stats$resolved2=stats.resolved)!==null&&_stats$resolved2!==void 0?_stats$resolved2:0]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:200,marginBottom:\"2rem\"},children:/*#__PURE__*/_jsx(Bar,{data:barData,options:{responsive:true,maintainAspectRatio:false}})}),/*#__PURE__*/_jsx(\"div\",{style:{height:200},children:/*#__PURE__*/_jsx(Pie,{data:pieData,options:{responsive:true,maintainAspectRatio:false}})})]});}","map":{"version":3,"names":["React","Bar","Pie","Chart","ChartJS","CategoryScale","LinearScale","BarElement","ArcElement","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","AnalyticsPanel","_ref","_stats$pending","_stats$resolved","_stats$total","_stats$pending2","_stats$resolved2","stats","complaints","categories","forEach","c","category","barData","labels","Object","keys","datasets","label","data","values","backgroundColor","pieData","pending","resolved","className","children","style","display","gap","marginBottom","padding","background","borderRadius","total","length","height","options","responsive","maintainAspectRatio"],"sources":["C:/Users/nisha/OneDrive/Desktop/civic-dashboard-frontend/src/components/AnalyticsPanel.js"],"sourcesContent":["import React from \"react\";\nimport { Bar, Pie } from \"react-chartjs-2\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  ArcElement,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\n\nChartJS.register(CategoryScale, LinearScale, BarElement, ArcElement, Tooltip, Legend);\n\nexport default function AnalyticsPanel({ stats, complaints }) {\n  // Count complaints by category (from props)\n  const categories = {};\n  complaints.forEach((c) => {\n    categories[c.category] = (categories[c.category] || 0) + 1;\n  });\n\n  const barData = {\n    labels: Object.keys(categories),\n    datasets: [\n      {\n        label: \"Complaints by Category\",\n        data: Object.values(categories),\n        backgroundColor: [\"#36A2EB\", \"#FF6384\", \"#FFCE56\", \"#4CAF50\", \"#9C27B0\"],\n      },\n    ],\n  };\n\n  // Use backend stats for status pie chart\n  const pieData = {\n    labels: [\"Pending\", \"Resolved\"],\n    datasets: [\n      {\n        data: [stats.pending ?? 0, stats.resolved ?? 0],\n        backgroundColor: [\"#FF6384\", \"#4CAF50\"],\n      },\n    ],\n  };\n\n  return (\n    <div className=\"analytics\">\n      <h3>ðŸ“Š Analytics</h3>\n\n      {/* KPI Cards */}\n      <div className=\"kpi-cards\" style={{ display: \"flex\", gap: \"1rem\", marginBottom: \"1rem\" }}>\n        <div style={{ padding: \"0.5rem 1rem\", background: \"#f5f5f5\", borderRadius: \"8px\" }}>\n          Total: {stats.total ?? complaints.length}\n        </div>\n        <div style={{ padding: \"0.5rem 1rem\", background: \"#ffe0e0\", borderRadius: \"8px\" }}>\n          Pending: {stats.pending ?? 0}\n        </div>\n        <div style={{ padding: \"0.5rem 1rem\", background: \"#e0ffe0\", borderRadius: \"8px\" }}>\n          Resolved: {stats.resolved ?? 0}\n        </div>\n      </div>\n\n      {/* Bar chart */}\n      <div style={{ height: 200, marginBottom: \"2rem\" }}>\n        <Bar data={barData} options={{ responsive: true, maintainAspectRatio: false }} />\n      </div>\n\n      {/* Pie chart */}\n      <div style={{ height: 200 }}>\n        <Pie data={pieData} options={{ responsive: true, maintainAspectRatio: false }} />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}