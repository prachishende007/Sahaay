{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nisha\\\\OneDrive\\\\Desktop\\\\civic-dashboard-frontend\\\\src\\\\components\\\\AnalyticsPanel.js\";\nimport React from \"react\";\nimport { Bar, Pie } from \"react-chartjs-2\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, ArcElement, Tooltip, Legend } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, ArcElement, Tooltip, Legend);\nexport default function AnalyticsPanel({\n  stats,\n  complaints\n}) {\n  var _stats$pending, _stats$resolved, _stats$total, _stats$pending2, _stats$resolved2;\n  // Count complaints by category (from props)\n  const categories = {};\n  complaints.forEach(c => {\n    categories[c.category] = (categories[c.category] || 0) + 1;\n  });\n  const barData = {\n    labels: Object.keys(categories),\n    datasets: [{\n      label: \"Complaints by Category\",\n      data: Object.values(categories),\n      backgroundColor: [\"#36A2EB\", \"#FF6384\", \"#FFCE56\", \"#4CAF50\", \"#9C27B0\"]\n    }]\n  };\n\n  // Use backend stats for status pie chart\n  const pieData = {\n    labels: [\"Pending\", \"Resolved\"],\n    datasets: [{\n      data: [(_stats$pending = stats.pending) !== null && _stats$pending !== void 0 ? _stats$pending : 0, (_stats$resolved = stats.resolved) !== null && _stats$resolved !== void 0 ? _stats$resolved : 0],\n      backgroundColor: [\"#FF6384\", \"#4CAF50\"]\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"analytics\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uD83D\\uDCCA Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kpi-cards\",\n      style: {\n        display: \"flex\",\n        gap: \"1rem\",\n        marginBottom: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"0.5rem 1rem\",\n          background: \"#f5f5f5\",\n          borderRadius: \"8px\"\n        },\n        children: [\"Total: \", (_stats$total = stats.total) !== null && _stats$total !== void 0 ? _stats$total : complaints.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"0.5rem 1rem\",\n          background: \"#ffe0e0\",\n          borderRadius: \"8px\"\n        },\n        children: [\"Pending: \", (_stats$pending2 = stats.pending) !== null && _stats$pending2 !== void 0 ? _stats$pending2 : 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"0.5rem 1rem\",\n          background: \"#e0ffe0\",\n          borderRadius: \"8px\"\n        },\n        children: [\"Resolved: \", (_stats$resolved2 = stats.resolved) !== null && _stats$resolved2 !== void 0 ? _stats$resolved2 : 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 200,\n        marginBottom: \"2rem\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Bar, {\n        data: barData,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: 200\n      },\n      children: /*#__PURE__*/_jsxDEV(Pie, {\n        data: pieData,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_c = AnalyticsPanel;\nvar _c;\n$RefreshReg$(_c, \"AnalyticsPanel\");","map":{"version":3,"names":["React","Bar","Pie","Chart","ChartJS","CategoryScale","LinearScale","BarElement","ArcElement","Tooltip","Legend","jsxDEV","_jsxDEV","register","AnalyticsPanel","stats","complaints","_stats$pending","_stats$resolved","_stats$total","_stats$pending2","_stats$resolved2","categories","forEach","c","category","barData","labels","Object","keys","datasets","label","data","values","backgroundColor","pieData","pending","resolved","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","marginBottom","padding","background","borderRadius","total","length","height","options","responsive","maintainAspectRatio","_c","$RefreshReg$"],"sources":["C:/Users/nisha/OneDrive/Desktop/civic-dashboard-frontend/src/components/AnalyticsPanel.js"],"sourcesContent":["import React from \"react\";\nimport { Bar, Pie } from \"react-chartjs-2\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  ArcElement,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\n\nChartJS.register(CategoryScale, LinearScale, BarElement, ArcElement, Tooltip, Legend);\n\nexport default function AnalyticsPanel({ stats, complaints }) {\n  // Count complaints by category (from props)\n  const categories = {};\n  complaints.forEach((c) => {\n    categories[c.category] = (categories[c.category] || 0) + 1;\n  });\n\n  const barData = {\n    labels: Object.keys(categories),\n    datasets: [\n      {\n        label: \"Complaints by Category\",\n        data: Object.values(categories),\n        backgroundColor: [\"#36A2EB\", \"#FF6384\", \"#FFCE56\", \"#4CAF50\", \"#9C27B0\"],\n      },\n    ],\n  };\n\n  // Use backend stats for status pie chart\n  const pieData = {\n    labels: [\"Pending\", \"Resolved\"],\n    datasets: [\n      {\n        data: [stats.pending ?? 0, stats.resolved ?? 0],\n        backgroundColor: [\"#FF6384\", \"#4CAF50\"],\n      },\n    ],\n  };\n\n  return (\n    <div className=\"analytics\">\n      <h3>ðŸ“Š Analytics</h3>\n\n      {/* KPI Cards */}\n      <div className=\"kpi-cards\" style={{ display: \"flex\", gap: \"1rem\", marginBottom: \"1rem\" }}>\n        <div style={{ padding: \"0.5rem 1rem\", background: \"#f5f5f5\", borderRadius: \"8px\" }}>\n          Total: {stats.total ?? complaints.length}\n        </div>\n        <div style={{ padding: \"0.5rem 1rem\", background: \"#ffe0e0\", borderRadius: \"8px\" }}>\n          Pending: {stats.pending ?? 0}\n        </div>\n        <div style={{ padding: \"0.5rem 1rem\", background: \"#e0ffe0\", borderRadius: \"8px\" }}>\n          Resolved: {stats.resolved ?? 0}\n        </div>\n      </div>\n\n      {/* Bar chart */}\n      <div style={{ height: 200, marginBottom: \"2rem\" }}>\n        <Bar data={barData} options={{ responsive: true, maintainAspectRatio: false }} />\n      </div>\n\n      {/* Pie chart */}\n      <div style={{ height: 200 }}>\n        <Pie data={pieData} options={{ responsive: true, maintainAspectRatio: false }} />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}